(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{104:function(e,t,a){},129:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},136:function(e,t){},137:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(54),o=a.n(c),s=(a(91),a(104),a(21)),i=a(18),l=a(23),u=a(143),d=a(144),j=a(9),b=a(11),m=a(65),h=a.n(m),O=(new(function(){function e(){Object(j.a)(this,e)}return Object(b.a)(e,[{key:"getProfile",value:function(){return h()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return h()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e)}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),a(1));function g(){return Object(O.jsxs)("div",{className:"flex justify-center space-x-10",children:[Object(O.jsx)(i.b,{to:"/goals",className:"btn-create-goals animate-bounce",children:"Create Goals"}),Object(O.jsx)(i.b,{to:"/schedule",className:"btn-schedule",children:"Your Schedule"})]})}var x,p,f,v,w,y,C=a(10),k=Object(n.createContext)({token:null,loggedIn:function(){},getProfile:function(){},getToken:function(){},isTokenExpired:function(){},login:function(){},logout:function(){}}),D=function(e){var t=e.children,a=Object(n.useState)(!1),r=Object(C.a)(a,2),c=r[0],o=r[1],s=Object(n.useState)(null),i=Object(C.a)(s,2),l=i[0],u=(i[1],function(){return localStorage.getItem("id_token")});var d={isAuthenticated:c,token:l,login:function(e){o(!0),localStorage.setItem("id_token",e)},logout:function(){o(!1),localStorage.removeItem("id_token",l)},loggedIn:function(){var e=u(),t=!!e&&!function(e){try{return h()(e).exp<Date.now()/1e3}catch(t){return!1}}(e);o(!!t)},getProfile:function(){return h()(u())}};return Object(O.jsx)(k.Provider,{value:d,children:t})},S=k,N=function(e){var t=e.children,a=e.page;return Object(n.useContext)(S).isAuthenticated?t:Object(O.jsx)(l.a,{exact:!0,to:"/login?fallback=".concat(a.url,"&&pageName=").concat(a.name)})},G=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.a,{className:"bg-white",fluid:!0,children:Object(O.jsx)(d.a,{children:Object(O.jsx)("img",{src:"images/banner.jpg",alt:"banner",className:"banner"})})}),Object(O.jsx)(d.a,{children:Object(O.jsx)(g,{})})]})},F=a(19),I=a(31),_=a.n(I),L=a(47),M=(a(129),a(130),a(156)),T=a(151),E=a(152),Y=a(145),$=a(146),P=a(56),q=a(155),A=Object(q.a)(x||(x=Object(P.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"]))),B=Object(q.a)(p||(p=Object(P.a)(["\n  mutation addUser($username: String!, $email: String!, $password: String!) {\n    addUser(username: $username, email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"]))),R=Object(q.a)(f||(f=Object(P.a)(["\n  mutation saveGoal($goalData: goalInput!) {\n    saveGoal(goalData: $goalData) {\n      _id\n      username\n      email\n      savedGoals {\n        _id\n        description\n        name\n        dateCreated\n        duration\n      }\n    }\n  }\n"]))),U=Object(q.a)(v||(v=Object(P.a)(["\n  mutation setCompletedGoal($goalId: ID!, $completed: String!) {\n    setCompletedGoal(goalId: $goalId, completed: $completed) {\n      _id\n      username\n      email\n      savedGoals {\n        _id\n        description\n        name\n        dateCreated\n        duration\n        completed\n      }\n    }\n  }\n"]))),V=Object(q.a)(w||(w=Object(P.a)(["\n  mutation removeGoal($goalId: ID!) {\n    removeGoal(goalId: $goalId) {\n      _id\n      username\n      email\n      savedGoals {\n        _id\n        description\n        name\n      }\n    }\n  }\n"]))),H=Object(q.a)(y||(y=Object(P.a)(["\n  query me {\n    me {\n      _id\n      username\n      savedGoals {\n        _id\n        description\n        name\n        duration\n        dateCreated\n        completed\n      }\n    }\n  }\n"]))),K=function(e,t){var a=e.getFullYear(),n=t.getFullYear(),r=e.getMonth(),c=t.getMonth(),o=e.getDate(),s=t.getDate();return"".concat(a,"-").concat(r,"-").concat(o)==="".concat(n,"-").concat(c,"-").concat(s)};var W=function(e){var t=Object(n.useState)({name:"",description:"",timer:""}),a=Object(C.a)(t,2),r=a[0],c=a[1],o=Object(Y.a)(H),l=o.userError,u=o.loading,d=o.data,j=Object(n.useState)([]),b=Object(C.a)(j,2),m=b[0],h=b[1],g=Object($.a)(R),x=Object(C.a)(g,2),p=x[0],f=(x[1].error,Object($.a)(V)),v=Object(C.a)(f,2),w=v[0],y=(v[1].error,Object(n.useState)(!1)),k=Object(C.a)(y,2),D=k[0],S=k[1],G=Object(n.useState)(""),I=Object(C.a)(G,2),P=I[0],q=I[1];Object(n.useEffect)((function(){0!==P.length?S(!0):S(!1)}),[P]),Object(n.useEffect)((function(){if(!u&&d.me){var e=d.me.savedGoals.filter((function(e){var t=new Date,a=new Date(e.dateCreated);return K(t,a)}));h(e)}}),[u,d]);var A=function(){var e=Object(L.a)(_.a.mark((function e(t){var a,n,o,s,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=r.name,n=r.description,o=r.timer,0!==a.trim().length&&0!==n.trim().length&&0!==o.trim().length){e.next=6;break}return q("All fields are required!"),S(!0),e.abrupt("return");case 6:if(3===(s=o.split(":")).length){e.next=11;break}return q("Provide the correct format on the goal duration e.g 02:30:00"),S(!0),e.abrupt("return");case 11:if(!s.find((function(e){return NaN===Number(e)}))){e.next=15;break}return q("Provide the current format with only numbers"),S(!0),e.abrupt("return");case 15:return e.prev=15,e.next=18,p({variables:{goalData:{name:r.name,description:r.description,duration:r.timer}}});case 18:i=e.sent,c({name:"",description:"",timer:""}),h(i.data.saveGoal.savedGoals.filter((function(e){return K(new Date,new Date(e.dateCreated))}))),S(!1),q(""),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(15),console.log(e.t0);case 28:case"end":return e.stop()}}),e,null,[[15,25]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(L.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w({variables:{goalId:t}});case 3:a=e.sent,h(a.data.saveGoal.removeGoal.filter((function(e){return K(new Date,new Date(e.dateCreated))}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),U=function(e){var t=e.target,a=t.name,n=t.value;c(Object(s.a)(Object(s.a)({},r),{},Object(F.a)({},a,n)))};return Object(O.jsx)(N,{page:{name:"Goals",url:"goals"},children:Object(O.jsxs)("div",{className:"bg-img-goals",children:[Object(O.jsxs)(M.a,{noValidate:!0,onSubmit:A,children:[Object(O.jsx)(T.a,{dismissible:!0,onClose:function(){return S(!1)},show:D,variant:"danger",children:P}),Object(O.jsxs)(M.a.Group,{children:[Object(O.jsx)(M.a.Label,{className:"goals-title mt-12",htmlFor:"name",children:"Your Goal"}),Object(O.jsx)(M.a.Control,{type:"text",placeholder:"eg: Be ready for math test.",name:"name",onChange:U,value:r.name,required:!0,className:"w-96 h-12 flex m-auto"}),Object(O.jsx)(M.a.Control.Feedback,{type:"invalid",children:"Please give you goal a name!"})]}),Object(O.jsxs)(M.a.Group,{children:[Object(O.jsx)(M.a.Label,{className:"goals-title",htmlFor:"email",children:"Description"}),Object(O.jsx)(M.a.Control,{type:"description",placeholder:"eg: Study modules 1 and 2.",name:"description",onChange:U,value:r.description,required:!0,className:"w-96 h-32 flex m-auto"}),Object(O.jsx)(M.a.Control.Feedback,{type:"invalid",children:"Please give you goal a description!"})]}),Object(O.jsxs)(M.a.Group,{children:[Object(O.jsx)(M.a.Label,{className:"goals-title",htmlFor:"timer",children:"Goal Duration"}),Object(O.jsx)(M.a.Control,{type:"timer",placeholder:"eg: 2:30:00 (HH:MM:SS).",name:"timer",onChange:U,value:r.timer,required:!0,className:"w-96 h-12 flex m-auto"}),Object(O.jsx)(M.a.Control.Feedback,{type:"invalid",children:"Please give you goal a description!"})]}),Object(O.jsx)(E.a,{type:"submit",variant:"success",className:"goals-submit flex m-auto",children:"Submit"}),Object(O.jsx)("div",{className:"flex justify-center space-x-10 mt-20 mb-2",children:Object(O.jsx)(i.b,{to:"/timer",className:"goals-srt-achieve justify-center",children:"Start Achieving!"})})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:Object(O.jsx)("strong",{className:"flex justify-center",children:"Your Goals"})}),u&&Object(O.jsx)("h2",{children:"Loading goals.."}),!u&&l&&Object(O.jsx)("h2",{children:"Something went wrong!"}),m&&0===m.length&&Object(O.jsx)("h1",{children:"You haven't set any goal yet."}),m&&0!==m.length&&m.map((function(e){return Object(O.jsx)("div",{className:"card saved-goals w-2/5 flex m-auto",children:Object(O.jsxs)("li",{className:"list-group-item",children:[Object(O.jsxs)("span",{children:[Object(O.jsx)("button",{className:"delete-goal-btn",onClick:B.bind(null,e._id),children:"\ud83d\uddd1\ufe0f"})," ",e.name," "]}),Object(O.jsx)("span",{children:e.duration})]})},e._id)}))]})]})})},z=a(111);a(133);var J=function(e){var t=Object(Y.a)(H),a=(t.error,t.loading),r=t.data,c=t.refetch,o=Object(n.useState)(new Date),s=Object(C.a)(o,2),i=s[0],l=s[1],u=Object(n.useState)(r),d=Object(C.a)(u,2),j=d[0],b=(d[1],Object(n.useState)([])),m=Object(C.a)(b,2),h=m[0],g=m[1];return Object(n.useEffect)((function(){c()}),[]),Object(n.useEffect)((function(){if(j&&j.me){var e=j.me.savedGoals.filter((function(e){return function(e,t){var a=e.getFullYear(),n=t.getFullYear(),r=e.getMonth(),c=t.getMonth(),o=e.getDate(),s=t.getDate();return"".concat(a,"-").concat(r,"-").concat(o)==="".concat(n,"-").concat(c,"-").concat(s)}(new Date(e.dateCreated),i)}));g(e)}}),[i]),Object(O.jsx)(N,{page:{name:"Schedule",url:"schedule"},children:Object(O.jsx)("div",{className:"schedule-container",children:Object(O.jsxs)("div",{className:"calendar-container",children:[Object(O.jsx)("h1",{children:"Your Schedule"}),Object(O.jsx)("br",{}),Object(O.jsx)(z.a,{value:i,onClickDay:function(e,t){l(e)},tileContent:""}),Object(O.jsxs)("div",{className:"calgoal-container",children:[Object(O.jsx)("h1",{children:"Today's Goals"}),Object(O.jsx)("br",{}),Object(O.jsx)("hr",{}),a&&Object(O.jsx)("h2",{children:"Loading saved goals..."}),!a&&j&&j.me&&Object(O.jsx)("ul",{children:h.map((function(e){return Object(O.jsx)("h2",{children:e.name},e._id)}))})]})]})})})},Q=(a(134),a(25)),X=a(89),Z=a(44),ee=a.n(Z);ee()().format();var te={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Chart.js Line Chart"}}},ae=["Daily","Weekly","Monthly","All Time"],ne={labels:ae,datasets:[{label:"Avg completed goals",data:[0,0,0,0],borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)"}]},re={labels:ae,datasets:[{label:"Avg timer per goal (in minutes)",data:[0,0,0,0],borderColor:"rgb(153, 102, 135)",backgroundColor:"rgba(123, 112, 125, 0.5)"}]},ce={labels:ae,datasets:[{label:"Avg goals daily",data:[0,0,0,0],borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)"}]},oe=function(e,t){var a=e.getFullYear(),n=e.getMonth(),r=e.getDate();return"DD-MM-YYYY"===t?"".concat(r,"-").concat(n+1,"-").concat(a):"".concat(a,"-").concat(n+1,"-").concat(r)},se=function(e){return e.map((function(e){return oe(e)})).reduce((function(e,t){return ee()(t).isBefore(e)?t:e}))},ie=function(){var e=Object(Y.a)(H),t=(e.loading,e.error,e.data),a=Object(n.useState)({goal:ne,time:re,completed:ce}),r=Object(C.a)(a,2),c=r[0],o=r[1],i=function(e,t){return e.filter((function(e){var a=oe(new Date(e.dateCreated));return ee()(a).isSameOrAfter(oe(t))}))},l=function(e){var t=e.filter((function(e){return!0===e.completed})).length;return Math.round(t/e.length)},u=function(e,t){var a=i(e,t),n=(new Date).getTime()-t.getTime(),r=Math.floor(n/864e5);return 0===r&&(r=1),Math.round(a.length/r)},d=function(e,t){var a=i(e,t),n=(new Date).getTime()-t.getTime(),r=Math.floor(n/864e5);0===r&&(r=1);var c=a.map((function(e){return e.duration.split(":")})).map((function(e){return[36e5*+e[0],6e4*+e[1],1e3*+e[2]]})).map((function(e){return e[0]+e[1]+e[2]})).reduce((function(e,t){return e+t}))/6e4;return Math.round(c/r)};return Object(n.useEffect)((function(){if(t&&t.me){var e=t.me.savedGoals,a=e.map((function(e){return new Date(e.dateCreated)})),n=l(i(e,new Date)),r=l(i(e,new Date(ee()().day(-7)))),c=l(i(e,new Date(ee()().day(-31)))),j=l(i(e,new Date("1970-01-01"))),b=u(e,new Date),m=u(e,new Date(ee()().day(-7))),h=u(e,new Date(ee()().day(-31))),O=u(e,new Date(new Date(se(a)))),g=d(e,new Date),x=d(e,new Date(ee()().day(-7))),p=d(e,new Date(ee()().day(-31))),f=d(e,new Date(se(a))),v=[b,m,h,O],w=[n,r,c,j],y=[g,x,p,f];o((function(e){var t=Object(s.a)({},e);return t.goal.datasets[0].data=v,t.time.datasets[0].data=y,t.completed.datasets[0].data=w,t}))}}),[t]),{data:c,options:te}};Q.d.register(Q.c,Q.i,Q.k,Q.h,Q.o,Q.p,Q.f);var le=function(){var e=ie(),t=e.data,a=t.time,n=t.completed,r=t.goal,c=e.options;return Object(O.jsxs)(N,{page:{name:"Dashboard",url:"dashboard"},children:[Object(O.jsx)(d.a,{style:{marginBottom:"2rem"},children:Object(O.jsx)(X.a,{options:c,data:r})}),Object(O.jsx)(d.a,{style:{marginBottom:"2rem"},children:Object(O.jsx)(X.a,{options:c,data:n})}),Object(O.jsx)(d.a,{style:{marginBottom:"2rem"},children:Object(O.jsx)(X.a,{options:c,data:a})})]})};a(136);function ue(){return Object(O.jsxs)("div",{children:[Object(O.jsx)(i.b,{to:"/dashboard",className:"bg-gray-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded bottom-1 justify-start",children:"View Goal Data"}),Object(O.jsx)(i.b,{to:"/goals",className:"content-end bg-gray-600 blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded -bottom-1 justify-end",children:"Add More Goals"})]})}var de=function(e){var t=Object(n.useState)(),a=Object(C.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){if(e.userData&&e.userData.me){var t=new Date,a=e.userData.me.savedGoals.filter((function(e){return function(e,t){var a=e.getFullYear(),n=t.getFullYear(),r=e.getMonth(),c=t.getMonth(),o=e.getDate(),s=t.getDate();return"".concat(a,"-").concat(r,"-").concat(o)==="".concat(n,"-").concat(c,"-").concat(s)}(t,new Date(e.dateCreated))}));c(a)}}),[e]),Object(O.jsx)(O.Fragment,{children:r&&r.map((function(t){return Object(O.jsxs)(n.Fragment,{children:[Object(O.jsxs)(d.a,{children:[Object(O.jsxs)("h2",{children:[t.name," ?"]}),!0!==t.completed&&!1!==t.completed&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("button",{className:"btn-complete",onClick:e.setCompletedGoal.bind(null,t._id,"yes"),children:"Yes"}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{className:"btn-complete",onClick:e.setCompletedGoal.bind(null,t._id,"no"),children:"No"})," "]}),t.completed&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h3",{style:{color:"green"},children:"Goal completed"}),Object(O.jsx)("button",{className:"btn-complete",onClick:e.setCompletedGoal.bind(null,t._id,"reset"),children:"Reset goal"})]}),!1===t.completed&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h3",{style:{color:"red"},children:"Unable to complete goal"}),Object(O.jsx)("button",{className:"btn-complete",onClick:e.setCompletedGoal.bind(null,t._id,"reset"),children:"Reset goal"})]})]}),Object(O.jsx)("br",{})]},t._id)}))})},je=function(){var e=Object(n.useState)([]),t=Object(C.a)(e,2),a=t[0],r=t[1],c=Object(Y.a)(H),o=(c.loading,c.error,c.data),s=Object($.a)(U),i=Object(C.a)(s,2),l=i[0],u=(i[1].error,function(){var e=Object(L.a)(_.a.mark((function e(t,a){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l({variables:{goalId:t,completed:a}});case 3:n=e.sent,r(n.data.setCompletedGoal),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}());return Object(n.useEffect)((function(){r(o)}),[o]),Object(O.jsxs)(N,{page:{name:"Daily Review",url:"dailyreview"},children:[Object(O.jsxs)(d.a,{className:"daily-review",children:[Object(O.jsx)("h1",{children:"DAILY REVIEW"}),Object(O.jsx)("br",{}),Object(O.jsx)("h2",{children:"Congratulations on completing a productive day!\ud83c\udf89"}),Object(O.jsx)("br",{}),Object(O.jsx)("h2",{children:"Were you able to achieve your goals today?"})]}),Object(O.jsx)("br",{}),Object(O.jsx)(d.a,{children:Object(O.jsx)(de,{userData:a,setCompletedGoal:u})}),Object(O.jsx)("br",{}),Object(O.jsx)(d.a,{children:Object(O.jsx)(ue,{})})]})};"1:20:3".split(":").map((function(e){return+e}));var be=function(e){var t=e.hours,a=e.minutes,n=e.seconds;return Object(O.jsxs)("div",{children:[Object(O.jsxs)("h3",{children:["Hours: ",t]}),Object(O.jsxs)("h3",{children:["Minutes: ",a]}),Object(O.jsxs)("h3",{children:["Seeconds: ",n]})]})};function me(e){var t=e.startCountDown,a=e.pauseCountDown,n=e.moveToNextGoal,r=e.resetGoalTimer,c=e.paused;return Object(O.jsxs)("div",{className:"flex justify-center space-x-10",children:[Object(O.jsx)("button",{className:"bg-gray-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded bottom-1 justify-start",onClick:c?t:a,children:c?"Resume":"Pause"}),Object(O.jsx)("button",{onClick:r,className:"content-end bg-gray-600 blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded -bottom-1 justify-end",disabled:!0,children:"Restart"}),Object(O.jsx)("button",{onClick:n,className:"content-end bg-gray-600 blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded -bottom-1 justify-end",disabled:!0,children:"Next Goal"})]})}var he=function(){var e=Object(n.useState)(null),t=Object(C.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),o=Object(C.a)(c,2),s=o[0],i=o[1],u=Object(Y.a)(H),j=(u.loading,u.error,u.data),b=Object(n.useState)("00"),m=Object(C.a)(b,2),h=m[0],g=m[1],x=Object(n.useState)("00"),p=Object(C.a)(x,2),f=p[0],v=p[1],w=Object(n.useState)("00"),y=Object(C.a)(w,2),k=y[0],D=y[1],S=Object(n.useState)(!1),G=Object(C.a)(S,2),F=G[0],I=G[1],_=Object(n.useState)(null),L=Object(C.a)(_,2),M=L[0],T=L[1],E=Object(n.useRef)(),$=Object(n.useState)(0),P=Object(C.a)($,2),q=P[0],A=P[1],B=Object(n.useState)(!1),R=Object(C.a)(B,2),U=R[0],V=R[1];Object(n.useEffect)((function(){if(j&&j.me){var e=new Date,t=j.me.savedGoals.filter((function(t){return K(e,new Date(t.dateCreated))})),a=t.map((function(e){return e.duration}));i(a),r(t)}}),[j]);var W=function(){clearInterval(E);var e=new Date(function(e){var t=e.split(":").map((function(e){return+e}));return(new Date).getTime()+60*t[0]*60*1e3+60*t[1]*1e3+1e3*t[2]}(M||s[q])).getTime();E.current=setInterval((function(){var t=(new Date).getTime(),a=e-t,n=Math.floor(a%864e5/36e5),r=Math.floor(a%36e5/6e4),c=Math.floor(a%6e4/1e3);a<0?(clearInterval(E.current),s[q+1]?A((function(e){return e+1})):V(!0)):(g(n),v(r),D(c))}),1e3)};return Object(n.useEffect)((function(){return 0!==s.length&&W(),function(){clearInterval(E)}}),[q,s]),U?Object(O.jsx)(l.a,{to:"/dailyreview"}):Object(O.jsxs)(N,{page:{name:"Timer",url:"timer"},children:[Object(O.jsx)(d.a,{children:Object(O.jsx)("h1",{children:"Timer"})}),Object(O.jsx)(d.a,{children:Object(O.jsxs)("h2",{style:{margin:"1rem"},children:[Object(O.jsx)("span",{style:{fontWeight:"bold"},children:a&&a[q].name}),", you get a 15 mins break."]})}),Object(O.jsx)(be,{hours:h,minutes:f,seconds:k}),Object(O.jsx)("br",{}),Object(O.jsx)(me,{startCountDown:function(){var e=M.split(":").map((function(e){return+e}));g(e[0]),v(e[1]),D(e[2]),T(null),I(!1),W()},pauseCountDown:function(){console.log("".concat(h,":").concat(f,":").concat(k)),clearInterval(E.current),T("".concat(h,":").concat(f,":").concat(k)),I(!0)},moveToNextGoal:function(){clearInterval(E),s[q+1]&&A((function(e){return e+1}))},resetGoalTimer:function(){clearInterval(E),W()},paused:F})]})};var Oe=function(e){var t=Object(n.useState)({username:"",email:"",password:""}),a=Object(C.a)(t,2),r=a[0],c=a[1],o=Object($.a)(B),i=Object(C.a)(o,2),u=i[0],d=i[1].error,j=Object(n.useState)(!1),b=Object(C.a)(j,2),m=b[0],h=b[1],g=Object(n.useContext)(S);Object(n.useEffect)((function(){h(!!d)}),[d]);var x=function(){var e=Object(L.a)(_.a.mark((function e(t){var a,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,u({variables:{username:r.username,email:r.email,password:r.password}});case 3:a=e.sent,n=a.data.addUser.token,g.login(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){var t=e.target,a=t.name,n=t.value;c(Object(s.a)(Object(s.a)({},r),{},Object(F.a)({},a,n)))};return g.isAuthenticated?Object(O.jsx)(l.a,{to:"/"}):Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(M.a,{noValidate:!0,onSubmit:x,className:"form",children:[Object(O.jsx)(T.a,{dismissible:!0,onClose:function(){return h(!1)},show:m,variant:"danger",children:"Something went wrong with your signup!"}),Object(O.jsxs)(M.a.Group,{children:[Object(O.jsx)(M.a.Label,{htmlFor:"username",children:"Username"}),Object(O.jsx)(M.a.Control,{type:"text",placeholder:"Your username",name:"username",onChange:p,value:r.username,required:!0}),Object(O.jsx)(M.a.Control.Feedback,{type:"invalid",children:"Username is required!"})]}),Object(O.jsxs)(M.a.Group,{children:[Object(O.jsx)(M.a.Label,{htmlFor:"email",children:"Email"}),Object(O.jsx)(M.a.Control,{type:"email",placeholder:"Your email address",name:"email",onChange:p,value:r.email,required:!0}),Object(O.jsx)(M.a.Control.Feedback,{type:"invalid",children:"Email is required!"})]}),Object(O.jsxs)(M.a.Group,{children:[Object(O.jsx)(M.a.Label,{htmlFor:"password",children:"Password"}),Object(O.jsx)(M.a.Control,{type:"password",placeholder:"Your password",name:"password",onChange:p,value:r.password,required:!0}),Object(O.jsx)(M.a.Control.Feedback,{type:"invalid",children:"Password is required!"})]}),Object(O.jsx)(E.a,{disabled:!(r.username&&r.email&&r.password),type:"submit",variant:"success",children:"Submit"})]})})};var ge=function(){var e=Object(l.g)().search;return Object(n.useMemo)((function(){return new URLSearchParams(e)}),[e])};var xe=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(C.a)(e,2),a=t[0],r=t[1],c=Object($.a)(A),o=Object(C.a)(c,2),i=o[0],u=o[1].error,d=ge(),j=Object(n.useState)(!1),b=Object(C.a)(j,2),m=b[0],h=b[1],g=Object(n.useState)(!1),x=Object(C.a)(g,2),p=x[0],f=x[1],v=d.get("fallback");Object(n.useEffect)((function(){v&&f(!0)}),[v]);var w=Object(n.useContext)(S);Object(n.useEffect)((function(){h(!!u)}),[u]);var y=function(){var e=Object(L.a)(_.a.mark((function e(t){var n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,i({variables:{email:a.email,password:a.password}});case 4:n=e.sent,r=n.data.login.token,w.login(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),k=function(e){var t=e.target,n=t.name,c=t.value;r(Object(s.a)(Object(s.a)({},a),{},Object(F.a)({},n,c)))};if(w.isAuthenticated){var D=d.get("fallback")?d.get("fallback"):"";return Object(O.jsx)(l.a,{to:"/".concat(D)})}return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(M.a,{noValidate:!0,onSubmit:y,className:"form",children:[Object(O.jsx)(T.a,{dismissible:!0,onClose:function(){return h(!1)},show:m,variant:"danger",children:"Something went wrong with your login credentials!"}),Object(O.jsxs)(T.a,{variant:"danger",show:p,onClose:function(){return f(!1)},dismissible:!0,children:["Login in to access ",d.get("pageName")," page"]}),Object(O.jsxs)(M.a.Group,{children:[Object(O.jsx)(M.a.Label,{htmlFor:"email",children:"Email"}),Object(O.jsx)(M.a.Control,{type:"text",placeholder:"Your email",name:"email",onChange:k,value:a.email,required:!0}),Object(O.jsx)(M.a.Control.Feedback,{type:"invalid",children:"Email is required!"})]}),Object(O.jsxs)(M.a.Group,{children:[Object(O.jsx)(M.a.Label,{htmlFor:"password",children:"Password"}),Object(O.jsx)(M.a.Control,{type:"password",placeholder:"Your password",name:"password",onChange:k,value:a.password,required:!0}),Object(O.jsx)(M.a.Control.Feedback,{type:"invalid",children:"Password is required!"})]}),Object(O.jsx)(E.a,{disabled:!(a.email&&a.password),type:"submit",variant:"success",children:"Submit"})]})})},pe=a(159),fe=a(158),ve=a(154),we=a(160),ye=a(98),Ce=a.n(ye),ke=function(){var e=Object(n.useState)(!1),t=Object(C.a)(e,2),a=t[0],r=t[1],c=Object(n.useContext)(S);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(pe.a,{className:"navbar-style",variant:"white",expand:"lg",children:Object(O.jsxs)(d.a,{fluid:!0,children:[Object(O.jsx)(pe.a.Brand,{as:i.b,to:"/",children:Object(O.jsx)("img",{src:"images/StudyLogo.png",alt:"logo",className:"logo"})}),Object(O.jsx)(pe.a.Toggle,{"aria-controls":"navbar"}),Object(O.jsx)(pe.a.Collapse,{id:"navbar",children:Object(O.jsx)(fe.a,{className:"ml-auto",children:c.isAuthenticated?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(fe.a.Link,{as:i.b,to:"/dashboard",className:"nav-link",children:"Dashboard"}),Object(O.jsx)(fe.a.Link,{as:i.b,to:"/goals",className:"nav-link",children:"Goals"}),Object(O.jsx)(fe.a.Link,{as:i.b,to:"/schedule",className:"nav-link",children:"Schedule"}),Object(O.jsx)(fe.a.Link,{as:i.b,to:"/dailyreview",className:"nav-link",children:"Daily Review"}),Object(O.jsx)(fe.a.Link,{as:i.b,to:"/timer",children:"Timer"}),Object(O.jsx)(fe.a.Link,{onClick:c.logout,children:"Logout"})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(i.b,{to:"/login",className:Ce.a.btn,children:"Login"}),Object(O.jsx)(i.b,{to:"/signup",className:Ce.a.btn,children:"Sign Up"})]})})})]})}),Object(O.jsx)(ve.a,{size:"lg",show:a,onHide:function(){return r(!1)},"aria-labelledby":"signup-modal",children:Object(O.jsxs)(we.a.Container,{defaultActiveKey:"login",children:[Object(O.jsx)(ve.a.Header,{closeButton:!0,children:Object(O.jsx)(ve.a.Title,{id:"signup-modal",children:Object(O.jsxs)(fe.a,{variant:"pills",children:[Object(O.jsx)(fe.a.Item,{children:Object(O.jsx)(fe.a.Link,{eventKey:"login",children:"Login"})}),Object(O.jsx)(fe.a.Item,{children:Object(O.jsx)(fe.a.Link,{eventKey:"signup",children:"Sign Up"})})]})})}),Object(O.jsx)(ve.a.Body,{children:Object(O.jsxs)(we.a.Content,{children:[Object(O.jsx)(we.a.Pane,{eventKey:"login",children:Object(O.jsx)(xe,{handleModalClose:function(){return r(!1)}})}),Object(O.jsx)(we.a.Pane,{eventKey:"signup",children:Object(O.jsx)(Oe,{handleModalClose:function(){return r(!1)}})})]})})]})})]})},De=a(112),Se=a(139),Ne=a(157),Ge=a(153),Fe=a(110),Ie=Object(De.a)({uri:"/graphql"}),_e=Object(Fe.a)((function(e,t){var a=t.headers,n=localStorage.getItem("id_token");return{headers:Object(s.a)(Object(s.a)({},a),{},{authorization:n?"Bearer ".concat(n):""})}})),Le=new Se.a({link:_e.concat(Ie),cache:new Ne.a});var Me=function(){var e=Object(n.useContext)(S);return Object(n.useEffect)((function(){e.loggedIn()}),[]),Object(O.jsx)(Ge.a,{client:Le,children:Object(O.jsxs)(i.a,{children:[Object(O.jsx)(ke,{}),Object(O.jsx)("div",{className:"layout",children:Object(O.jsxs)(l.d,{children:[Object(O.jsx)(l.b,{exact:!0,path:"/",component:G}),Object(O.jsx)(l.b,{exact:!0,path:"/goals",component:W}),Object(O.jsx)(l.b,{exact:!0,path:"/schedule",component:J}),Object(O.jsx)(l.b,{exact:!0,path:"/dashboard",component:le}),Object(O.jsx)(l.b,{exact:!0,path:"/dailyreview",component:je}),Object(O.jsx)(l.b,{exact:!0,path:"/timer",component:he}),Object(O.jsx)(l.b,{exact:!0,path:"/signup",component:Oe}),Object(O.jsx)(l.b,{exact:!0,path:"/login",component:xe}),Object(O.jsx)(l.b,{render:function(){return Object(O.jsx)("h1",{className:"display-2",children:"Wrong page!"})}})]})})]})})};o.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(D,{children:Object(O.jsx)(Me,{})})}),document.getElementById("root"))},98:function(e,t,a){e.exports={btn:"Navbar_btn__37FVO"}}},[[137,1,2]]]);
//# sourceMappingURL=main.e67f7735.chunk.js.map